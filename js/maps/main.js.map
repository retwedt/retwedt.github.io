{"version":3,"sources":["main.js"],"names":["supports_history_api","window","history","pushState","console","log","loadPage","url","addToHistory","myRequest","XMLHttpRequest","open","onreadystatechange","readyState","status","contentDiv","innerHTML","responseText","send","parseURL","newHash","location","hash","slice","newURL","addClicker","element","addEventListener","e","preventDefault","pushURL","href","index","indexOf","hostname","charAt","fullURL","protocol","homeURL","navDiv","document","querySelector","lst","querySelectorAll","getElementById","navPanelMobile","onload","i","length"],"mappings":"AAiDA,QAASA,wBACR,MAAIC,QAAOC,QACNA,QAAQC,WACJ,EADR,QAIAC,QAAQC,IAAI,+BACL,GAMT,QAASC,UAASC,EAAKC,GACtB,GAAS,MAALD,EAAU,CAEb,GACIE,GAAY,GAAIC,eACpBD,GAAUE,KAAK,MAAOJ,GAAK,GAC3BE,EAAUG,mBAAqB,WAED,IAAzBH,EAAUI,YAAyC,MAArBJ,EAAUK,SAC3CC,WAAWC,UAAYP,EAAUQ,eAGnCR,EAAUS,QAMZ,QAASC,YACR,GAAIC,GAAUnB,OAAOoB,SAASC,IAEzBF,KACJA,EAAU,SAEXA,EAAUA,EAAQG,MAAM,EACpB,IAAIC,GAAS,WAAaJ,EAAU,OACpC,OAAOI,GAKZ,QAASC,YAAWC,GAClBA,EAAQC,iBAAiB,QAAS,SAASC,GAE3CxB,QAAQC,IAAI,SAGZuB,EAAEC,gBAGA,IAAIC,GAAUJ,EAAQK,KACpBC,EAAQF,EAAQG,QAAQ,IAK5B,IAAU,EAAND,EAGH,GAFAF,EAAU,OAEiC,MAAvC7B,OAAOoB,SAASa,SAASC,OAAO,GAAY,CAC/C,GAAIC,GAAUnC,OAAOoB,SAASgB,SAAW,KAAOpC,OAAOoB,SAASa,SAAW,QAC3E9B,SAAQC,IAAI,cACN,CACN,GAAI+B,GAAUnC,OAAOoB,SAASgB,SAAW,KAAOpC,OAAOoB,SAASa,SAAW,GAC3E9B,SAAQC,IAAI,eAKb,IAFAyB,EAAUA,EAAQP,MAAMS,EAAM,GAEa,MAAvC/B,OAAOoB,SAASa,SAASC,OAAO,GAAY,CAC/C,GAAIC,GAAUnC,OAAOoB,SAASgB,SAAW,KAAOpC,OAAOoB,SAASa,SAAW,UAAYJ,CACvF1B,SAAQC,IAAI,cACN,CACN,GAAI+B,GAAUnC,OAAOoB,SAASgB,SAAW,KAAOpC,OAAOoB,SAASa,SAAW,KAAOJ,CAClF1B,SAAQC,IAAI,WAMd,MAAe,YAAXyB,GACI,GAIRA,EAAU,WAAaA,EAAU,QACjCxB,SAASwB,GAAS,OAChB5B,SAAQC,UAAU,IAAK,KAAMiC,MAC7B,GAxIJ,GAAIE,SAAU,oBAKVC,OAASC,SAASC,cAAc,QAChCC,IAAMH,OAAOI,iBAAiB,KAG9B5B,WAAayB,SAASI,eAAe,WAGrCC,eAAiBL,SAASI,eAAe,mBAK7C3C,QAAO6C,OAAS,WACf,GAAI9C,uBAAuB,CAGzB,GAAIO,GAAMY,UACVb,UAASC,GAAK,EAGf,KAAK,GAAIwC,GAAE,EAAGA,EAAEL,IAAIM,OAAQD,IAC3BtB,WAAWiB,IAAIK,GAGhB9C,QAAO0B,iBAAiB,WAAY,SAASC,GAE5CxB,QAAQC,IAAI,MAEX,IAAIE,GAAMY,UACVb,UAASC,GAAK,KAEd","file":"main.js","sourcesContent":["//main.js\r\n// ajax content into #content div for a seamless user experience\r\n\r\n//*******************html content*******************\r\nvar homeURL = \"content/home.html\";\r\n\r\n\r\n//*******************get dom elements*******************\r\n//get all links from nav wrapper and store them in an array\r\nvar navDiv = document.querySelector(\".nav\");\r\nvar lst = navDiv.querySelectorAll(\"a\");\r\n\r\n//main content div\r\nvar contentDiv = document.getElementById(\"content\");\r\n\r\n//nav-panel-mobile for collapsing nav onclick\r\nvar navPanelMobile = document.getElementById(\"nav-panel-mobile\");\r\n\r\n\r\n//*******************onload event*******************\r\n// when window loads, setup events on buttons and browser\r\nwindow.onload = function() {\r\n\tif (supports_history_api()){\r\n\t\t//parse url and load page once at the beginning\r\n\t\t//used incase the visitor is coming from an external site (or bookmark)\r\n \t\tvar url = parseURL();\r\n \t\tloadPage(url, false);\r\n\r\n \t\t//add click events to all buttons in the nav-wrapper\r\n\t\tfor (var i=0; i<lst.length; i++){\r\n\t\t\taddClicker(lst[i]);\r\n\t\t}\r\n\r\n\t\twindow.addEventListener(\"popstate\", function(e) {\r\n\t\t\t//for debugging\r\n\t\t\tconsole.log(\"pop\");\r\n\r\n\t \t\tvar url = parseURL();\r\n\t \t\tloadPage(url, false);\r\n\t    \t}\r\n\t\t, false);\r\n\t}\r\n}\r\n\r\n\r\n\r\n\r\n\r\n// check if browser supports history api\r\nfunction supports_history_api() {\r\n\tif (window.history){\r\n\t\tif (history.pushState){\r\n\t\t\treturn true;\r\n\t\t}\r\n\t} else {\r\n\t\tconsole.log(\"history api not supported!\");\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\n\r\n// load page function\r\nfunction loadPage(url, addToHistory){\r\n\tif (url!=null){\r\n\t\t//send request\r\n\t\tvar requestReturn = \"\";\r\n\t\tvar myRequest = new XMLHttpRequest();\r\n\t\tmyRequest.open(\"GET\", url, true);\r\n\t\tmyRequest.onreadystatechange = function () {\r\n\t\t\t//process request function\r\n\t\t\tif (myRequest.readyState === 4 && myRequest.status === 200) {\r\n\t\t\t\tcontentDiv.innerHTML = myRequest.responseText;\r\n\t\t\t}\r\n\t\t}\r\n\t\tmyRequest.send();\r\n\t}\r\n}\r\n\r\n\r\n//get hash from current url, construct custom url for ajax call\r\nfunction parseURL(){\r\n\tvar newHash = window.location.hash;\r\n\t//if there is no hash (you are trying to go to the homepage)\r\n\tif (!newHash){\r\n\t\tnewHash = \"#home\";\r\n\t}\r\n\tnewHash = newHash.slice(1);\r\n    \tvar newURL = \"content/\" + newHash + \".html\";\r\n    \treturn newURL;\r\n}\r\n\r\n\r\n// add event listener to html element to load page when clicked on\r\nfunction addClicker(element) {\r\n  element.addEventListener(\"click\", function(e) {\r\n\t\t//for debugging\r\n\t\tconsole.log(\"click\");\r\n\r\n\t\t//prevend default action of button\r\n\t\te.preventDefault();\r\n\r\n\t\t//check for href of element that was clicked on\r\n   \tvar pushURL = element.href;\r\n\t\tvar index = pushURL.indexOf(\"#\");\r\n\r\n\t\t// console.log(\"wlp: \" + window.location.hostname.charAt(0));\r\n\r\n\t\t//if there is no href, the user is trying to go home\r\n\t\tif (index<0){\r\n\t\t\tpushURL = \"home\";\r\n\t\t\t// update history differently on local vs. server\r\n\t\t\tif (window.location.hostname.charAt(0) === \"1\") {\r\n\t\t\t\tvar fullURL = window.location.protocol + \"//\" + window.location.hostname + \":8080/\"; //for node testing\r\n\t\t\t\tconsole.log(\"local!\");\r\n\t\t\t} else {\r\n\t\t\t\tvar fullURL = window.location.protocol + \"//\" + window.location.hostname + \"/\"; //for server\r\n\t\t\t\tconsole.log(\"server!\");\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tpushURL = pushURL.slice(index+1);\r\n\t\t\t// update history differently on local vs. server\r\n\t\t\tif (window.location.hostname.charAt(0) === \"1\") {\r\n\t\t\t\tvar fullURL = window.location.protocol + \"//\" + window.location.hostname + \":8080/#\" + pushURL; //for node testing\r\n\t\t\t\tconsole.log(\"local!\");\r\n\t\t\t} else {\r\n\t\t\t\tvar fullURL = window.location.protocol + \"//\" + window.location.hostname + \"/#\" + pushURL; //for server\r\n\t\t\t\tconsole.log(\"server!\");\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t//if user clicks on projects or gallery button or mobile menu button, cancel the ajax call, you don't want to load these pages!\r\n\t\t// if (pushURL == \"projects\" || pushURL == \"gallery\" || pushURL == \"nav-panel-mobile\"){\r\n\t\tif (pushURL == \"projects\"){\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\t\r\n\t\t//create url for ajax call\r\n\t\tpushURL = \"content/\" + pushURL + \".html\";\r\n\t\tloadPage(pushURL, true);\r\n   \thistory.pushState(\" \", null, fullURL);\r\n\t}, true);\r\n}\r\n\r\n"],"sourceRoot":"/source/"}